name: "Suwayomi Server (Preview)"
slug: "suwayomi_preview"
description: "Suwayomi (Tachidesk) server - Preview channel"
url: "https://github.com/Suwayomi/Suwayomi-Server-docker"
logo: logo.png
icon: logo.png

version: "preview-20260219-0317-f4bc6b0ba3de"

arch:
  - amd64
  - aarch64

image: "ghcr.io/jipaix/ha-addons-suwayomi-preview"

startup: application
boot: auto

ports:
  4567/tcp: 4567
ports_description:
  4567/tcp: "Suwayomi Web/API"

webui: "http://[HOST]:[PORT:4567]/"
watchdog: "http://[HOST]:[PORT:4567]/api/v1/settings/about"

map:
  - data:rw

options:
  general:
    tz: "Europe/Paris"
    bind_ip: "0.0.0.0"
    bind_port: 4567

  socks_proxy:
    enabled: false
    version: 5
    host: ""
    port: ""
    username: ""
    password: ""

  auth:
    mode: "none"
    username: ""
    password: ""
    jwt_audience: "suwayomi-server-api"
    jwt_token_expiry: "5m"
    jwt_refresh_expiry: "60d"

  logging:
    debug: false
    max_log_files: 31
    max_log_file_size: "10mb"
    max_log_folder_size: "100mb"

  webui:
    enabled: true
    flavor: "WebUI"
    channel: "stable"
    update_interval: 23

  downloads:
    download_as_cbz: false
    auto_download_chapters: false
    auto_download_exclude_unread: true
    auto_download_new_chapters_limit: 0
    auto_download_ignore_reuploads: false
    download_conversions: "{}"
    serve_conversions: "{}"
    extension_repos: "[]"
    max_sources_in_parallel: 6

  updates:
    exclude_unread: true
    exclude_started: true
    exclude_completed: true
    interval_hours: 12
    update_manga_info: false

  backup:
    time: "00:00"
    interval_days: 1
    ttl_days: 14
    include_manga: true
    include_categories: true
    include_chapters: true
    include_tracking: true
    include_history: true
    include_client_data: true
    include_server_settings: true

  flaresolverr:
    enabled: false
    url: "http://localhost:8191"
    timeout_seconds: 60
    session_name: "suwayomi"
    session_ttl_minutes: 15
    response_as_fallback: false

  opds:
    use_binary_file_sizes: false
    items_per_page: 50
    enable_page_read_progress: true
    mark_as_read_on_download: false
    show_only_unread_chapters: false
    show_only_downloaded_chapters: false
    chapter_sort_order: "DESC"
    cbz_mime_type: "MODERN"

  koreader:
    sync_checksum_method: "binary"
    sync_percentage_tolerance: 0.00000000000001
    sync_strategy_forward: "prompt"
    sync_strategy_backward: "disabled"

  database:
    type: "H2"
    url: "postgresql://localhost:5432/suwayomi"
    username: ""
    password: ""
    use_hikari_connection_pool: true

schema:
  general:
    tz: str
    bind_ip: str
    bind_port: port

  socks_proxy:
    enabled: bool
    version: "int(4,5)"
    host: str?
    port: str?
    username: str?
    password: password?

  auth:
    mode: list(none|basic_auth|simple_login|ui_login)
    username: str?
    password: password?
    jwt_audience: str
    jwt_token_expiry: str
    jwt_refresh_expiry: str

  logging:
    debug: bool
    max_log_files: "int(1,3650)"
    max_log_file_size: str
    max_log_folder_size: str

  webui:
    enabled: bool
    flavor: list(WebUI|Custom)
    channel: list(bundled|stable|preview)
    update_interval: "int(0,23)"

  downloads:
    download_as_cbz: bool
    auto_download_chapters: bool
    auto_download_exclude_unread: bool
    auto_download_new_chapters_limit: "int(0,1000000)"
    auto_download_ignore_reuploads: bool
    download_conversions: str
    serve_conversions: str
    extension_repos: str
    max_sources_in_parallel: "int(1,20)"

  updates:
    exclude_unread: bool
    exclude_started: bool
    exclude_completed: bool
    interval_hours: "float(0,)"
    update_manga_info: bool

  backup:
    time: str
    interval_days: "int(0,)"
    ttl_days: "int(0,)"
    include_manga: bool
    include_categories: bool
    include_chapters: bool
    include_tracking: bool
    include_history: bool
    include_client_data: bool
    include_server_settings: bool

  flaresolverr:
    enabled: bool
    url: str
    timeout_seconds: "int(1,3600)"
    session_name: str
    session_ttl_minutes: "int(1,1440)"
    response_as_fallback: bool

  opds:
    use_binary_file_sizes: bool
    items_per_page: "int(10,4999)"
    enable_page_read_progress: bool
    mark_as_read_on_download: bool
    show_only_unread_chapters: bool
    show_only_downloaded_chapters: bool
    chapter_sort_order: list(DESC|ASC)
    cbz_mime_type: list(MODERN|LEGACY|COMPATIBLE)

  koreader:
    sync_checksum_method: list(binary|filename)
    sync_percentage_tolerance: "float(0,1)"
    sync_strategy_forward: list(prompt|keep_local|keep_remote|disabled)
    sync_strategy_backward: list(prompt|keep_local|keep_remote|disabled)

  database:
    type: list(H2|POSTGRESQL)
    url: str
    username: str?
    password: password?
    use_hikari_connection_pool: bool
